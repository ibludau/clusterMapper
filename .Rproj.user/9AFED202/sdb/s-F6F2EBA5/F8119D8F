{
    "collab_server" : "",
    "contents" : "library('data.table')\nDIR=\"/IMSB/ra/ibludau/phospho_cluster_mapping/input/\"\nsetwd(DIR)\ndata <- fread(\"combined_clusters_head_all_mscore.txt\")\ndataFiltered <- filterData(data)\n\n## subset data for code testing\ndataSub <- subset(dataFiltered,run_id %in% c(\"0_0\",\"0_1\",\"0_2\",\"0_3\",\"0_4\",\"0_5\"))\ndataMapped <- mapClusters(dataSub, sort_RT=FALSE)\n\n## full dataset :) ## analysis takes ~1h for full dataset\n#system.time(\ndataMappedFull <- mapClusters(dataFiltered, sort_RT=FALSE)\n#)\n\n## read reference data\nold_data <- fread(\"/IMSB/ra/ibludau/phospho_cluster_mapping/results/complete_data_out_010416.tsv\")\n\nrename_idx <- which(names(dataMappedFull) == \"Collapsed_Peptide\")[2]\nnames(dataMappedFull)[rename_idx] = \"Collapsed_Peptide_2\"\n\nrename_idx <- which(names(dataMappedFull) == \"run_id\")[2]\nnames(dataMappedFull)[rename_idx] = \"run_id_2\"\n\ndataMappedFull$run_id <- gsub(\"0_\",\"\",dataMappedFull$run_id)\ndataMappedFull$run_id <- as.numeric(dataMappedFull$run_id)\n\nold_new_merge = merge(dataMappedFull, old_data, by=c(\"transition_group_id\",\"run_id\",\"Collapsed_Peptide\"))\n\nsel_diff <- which(old_new_merge$cluster_new != old_new_merge$new_cluster)\ndiff <- old_new_merge[sel_diff]\n\nx = subset(diff,select=c(\"cluster_new\",\"new_cluster\"))\n\ncluster_new_0 <- which(x$cluster_new == 0)\nnew_cluster_0 <- which(x$new_cluster == 0)\n\n\n############\n############\n",
    "created" : 1501586361063.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1521188539",
    "id" : "F8119D8F",
    "lastKnownWriteTime" : 1501517120,
    "last_content_update" : 1501517120,
    "path" : "/Volumes/ibludau-1/clusterMapper/run_analysis.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}